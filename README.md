# MineSweeper in Python
マインスイーパが遊べます．自作のソルバーもついてます．

<div align="center">
<img src="https://github.com/snaka0213/MineSweeper/blob/master/image/image1.png" width="100x100">
</div>

## ソルバーの性能
以下のアルゴリズムはどれも単純ですが，
計算量を抑えていてかつ (マインスイーパに関して素人な僕の)
自作なので性能は悪いです．ソルバーは次の二つで構成されています:

1. `solve_direct`:
開いている盤面から "単純作業" で推定できるパネルを出来るだけ多く開きます．
具体的には次の操作を全てのパネルに対して開けなくなるまで繰り返します:
  * "周辺の旗の数" = "数字" → 周辺のパネルを全て開く
  * "周辺の旗の数" + "周辺のパネルの数" = "数字" → 周辺のパネルに旗を置く

1. `solve_indirect`:
"背理法" を用いてパネルを出来るだけ多く開きます．
具体的には次の操作を開けなくなるまで繰り返します:
  * パネルに仮想的に爆弾を置いてから `solve_direct` を行うと矛盾が生じる
  → そのパネルは開けるので実際に開く

ただし仮想的に爆弾を置く回数を1回のみにしている点に注意．
なのでこのソルバーが "完全解法" を与えるわけではありません．
(単純にこの回数を増やすと実装が複雑になるだけでなく計算量が莫大になる？)

## オプション (CLI, GUI)
必要ならば次の引数を指定してください:
* `--mine`: 爆弾の数 (`default=40`)
* `--height`: 盤面の縦幅 (`default=16`)
* `--width`: 盤面の横幅 (`default=16`)

注：`mine < height * width` である必要があります．

## 遊び方 (CLI)
CLI 版をプレイするには次を実行してください．
```bash
python3 -m src.board
```

### 操作方法
コマンドライン上に表示される指示に従って操作してください．

## 遊び方 (GUI)
GUI 版をプレイするには次を実行してください.
```bash
python3 main.py
```
GUI 部分は tkinter というモジュールで作成されています．

### 操作方法
* パネル 左クリック：パネルをめくる
* パネル 右クリック：旗を置く or 旗を取り消す
* 上部ボタン 左クリック：ソルバーを実行する
